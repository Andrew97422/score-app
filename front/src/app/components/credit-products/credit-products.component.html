<div class="component">
    <div fxLayout="row" fxFlex class="mat-card">
        <div fxFlex fxLayout="column" fxLayoutGap="8px">
            <h5>Кредитные продукты</h5>
            <div fxLayout="row" fxFlex fxLayoutGap="10px" style="overflow: hidden;">
                <div fxLayout="column" fxFlex="2 1 0%">
                    <mat-tab-group fxFlex>
                        <mat-tab label="Потребительский кредит">                
                            <div fxLayout="column" fxFlex fxLayoutGap="10px" style="padding-top: 10px;">
                                <div *ngFor="let product of consumerProducts" class="product" matRipple
                                    [class.product-active]="product.active"
                                    [class.product-select]="selectProduct?.id== product.id"
                                    (click)="selectProduct=product">
                                    <li>
                                        <div fxLayout="row" fxFlex fxLayoutGap="10px">
                                            <div fxFlex>{{product.name}}</div>
                                            <div fxFlex>До {{product.maxAmount}} ₽</div>
                                            <div fxFlex>От {{product.minRate}}%</div>
                                            <div fxFlex>До {{product.maxTerm}} лет</div>

                                            <div fxFlex></div>
                                            <div style="width: 24px;">
                                                <mat-icon (click)="editProduct(product, LendingType.CONSUMER)">
                                                    <span class="material-symbols-outlined">
                                                        edit
                                                    </span>
                                                </mat-icon>
                                            </div>
                                            <div style="width: 24px;">
                                                <mat-icon (click)="delete(product, LendingType.CONSUMER)">
                                                    <span class="material-symbols-outlined">
                                                        delete
                                                    </span>
                                                </mat-icon>
                                            </div>
                                        </div>
                                    </li>
                                </div>
                            </div>
                        </mat-tab>

                        <mat-tab label="Автокредит">
                            <div fxLayout="column" fxFlex fxLayoutGap="10px" style="padding-top: 10px;">
                                <div *ngFor="let product of autoLoanProducts" class="product" matRipple
                                    [class.product-active]="product.active"
                                    [class.product-select]="selectProduct?.id== product.id"
                                    (click)="selectProduct=product">
                                    <li>
                                        <div fxLayout="row" fxFlex fxLayoutGap="10px">
                                            <div fxFlex>{{product.name}}</div>
                                            <div fxFlex>До {{product.maxAmount}} ₽</div>
                                            <div fxFlex>От {{product.minRate}}%</div>
                                            <div fxFlex>До {{product.maxTerm}} лет</div>
                                            <div fxFlex></div>

                                            <div style="width: 24px;">
                                                <mat-icon (click)="editProduct(product, LendingType.AUTO_LOAN)">
                                                    <span class="material-symbols-outlined">
                                                        edit
                                                    </span>
                                                </mat-icon>
                                            </div>

                                            <div style="width: 24px;">
                                                <mat-icon (click)="delete(product, LendingType.AUTO_LOAN)">
                                                    <span class="material-symbols-outlined">
                                                        delete
                                                    </span>
                                                </mat-icon>
                                            </div>
                                        </div>
                                    </li>
                                </div>
                            </div>
                        </mat-tab>

                        <mat-tab label="Ипотека">
                            <div fxLayout="column" fxFlex fxLayoutGap="10px" style="padding-top: 10px;">
                                <div *ngFor="let product of mortgageProducts" class="product" matRipple
                                    [class.product-active]="product.active"
                                    [class.product-select]="selectProduct?.id== product.id"
                                    (click)="selectProduct=product">
                                    <li>
                                        <div fxLayout="row" fxFlex fxLayoutGap="20px">
                                            <div fxFlex>{{product.name}}</div>
                                            <div fxFlex>До {{product.maxAmount}} ₽</div>
                                            <div fxFlex>От {{product.minRate}}%</div>
                                            <div fxFlex>До {{product.maxTerm}} лет</div>

                                            <div fxFlex></div>
                                            <div style="width: 24px;">
                                                <mat-icon (click)="editProduct(product, LendingType.MORTGAGE)">
                                                    <span class="material-symbols-outlined">
                                                        edit
                                                    </span>
                                                </mat-icon>
                                            </div>

                                            <div style="width: 24px;">
                                                <mat-icon (click)="delete(product, LendingType.MORTGAGE)">
                                                    <span class="material-symbols-outlined">
                                                        delete
                                                    </span>
                                                </mat-icon>
                                            </div>
                                        </div>
                                    </li>
                                </div>
                            </div>
                        </mat-tab>
                    </mat-tab-group>

                    <button mat-button color="primary" (click)="createProduct()">
                        Создать кредитный продукт
                    </button>
                </div>

                <div fxFlex>
                    <form *ngIf="selectProduct" fxFlex style="overflow: auto;">
                        <h6>{{selectProduct?.name}}</h6>
                        <li>Минимальная сумма кредита: {{selectProduct?.minAmount}}</li>
                        <li>Максимальная сумма кредита: {{selectProduct?.maxAmount}}</li>
                        <li>Минимальный срок кредита: {{selectProduct?.minTerm}}</li>
                        <li>Максимальный срок кредита: {{selectProduct?.maxTerm}}</li>
                        <li>Минимальная процентная ставка: {{selectProduct?.minRate}}%</li>
                        <li>Ссылка на описание: <a>{{selectProduct?.url}}</a></li>
                        <li>Краткое описание: {{selectProduct?.comment}}</li>
                        <li>Начало действия: {{selectProduct?.startDate | date:'dd.MM.yyyy HH:mm:ss'}}</li>
                        <li>Конец действия: {{selectProduct?.finishDate | date:'dd.MM.yyyy HH:mm:ss'}}</li>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
